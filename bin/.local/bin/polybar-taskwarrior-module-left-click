#!/bin/bash

# Determine if there is currently started task or not

if [[ -n "$(cat ~/.tw_started_id)" ]]; then
  # started task exist
  started_task_uuid=$(cat ~/.tw_started_id)
  task $started_task_uuid stop

else
  # Start the task next task instead
  next_urgent_task_uuid=$(task _get $(task limit:1 | awk 'NR==4{print $1}').uuid)
  task $next_urgent_task_uuid start

fi
